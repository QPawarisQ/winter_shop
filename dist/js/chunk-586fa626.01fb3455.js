(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-586fa626"],{"159b":function(t,r,e){var a=e("da84"),i=e("fdbc"),o=e("17c2"),c=e("9112");for(var s in i){var n=a[s],u=n&&n.prototype;if(u&&u.forEach!==o)try{c(u,"forEach",o)}catch(d){u.forEach=o}}},"17c2":function(t,r,e){"use strict";var a=e("b727").forEach,i=e("a640"),o=e("ae40"),c=i("forEach"),s=o("forEach");t.exports=c&&s?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"30bc":function(t,r,e){"use strict";e("f422")},4160:function(t,r,e){"use strict";var a=e("23e7"),i=e("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"65f0":function(t,r,e){var a=e("861d"),i=e("e8b5"),o=e("b622"),c=o("species");t.exports=function(t,r){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?a(e)&&(e=e[c],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===r?0:r)}},a640:function(t,r,e){"use strict";var a=e("d039");t.exports=function(t,r){var e=[][t];return!!e&&a((function(){e.call(null,r||function(){throw 1},1)}))}},ae40:function(t,r,e){var a=e("83ab"),i=e("d039"),o=e("5135"),c=Object.defineProperty,s={},n=function(t){throw t};t.exports=function(t,r){if(o(s,t))return s[t];r||(r={});var e=[][t],u=!!o(r,"ACCESSORS")&&r.ACCESSORS,d=o(r,0)?r[0]:n,l=o(r,1)?r[1]:void 0;return s[t]=!!e&&!i((function(){if(u&&!a)return!0;var t={length:-1};u?c(t,1,{enumerable:!0,get:n}):t[1]=1,e.call(t,d,l)}))}},b727:function(t,r,e){var a=e("0366"),i=e("44ad"),o=e("7b0b"),c=e("50c4"),s=e("65f0"),n=[].push,u=function(t){var r=1==t,e=2==t,u=3==t,d=4==t,l=6==t,p=7==t,v=5==t||l;return function(f,_,h,g){for(var b,m,y=o(f),C=i(y),S=a(_,h,3),k=c(C.length),P=0,O=g||s,w=r?O(f,k):e||p?O(f,0):void 0;k>P;P++)if((v||P in C)&&(b=C[P],m=S(b,P,y),t))if(r)w[P]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return P;case 2:n.call(w,b)}else switch(t){case 4:return!1;case 7:n.call(w,b)}return l?-1:u||d?d:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},cf2a:function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("order-component")],1)},i=[],o=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticStyle:{"margin-top":"6rem"}},[e("h1",{staticClass:"text-center title"},[t._v(t._s(t.title))]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("br"),e("br"),e("br"),e("a",{staticClass:"menu-font",staticStyle:{color:"red"},attrs:{href:"javascript:void(0)"},on:{click:function(r){return t.orderPage()}}},[t._v("ORDERS")]),e("br"),e("a",{staticClass:"menu-font",attrs:{href:"javascript:void(0)"},on:{click:function(r){return t.accountPage()}}},[t._v("ACCOUNT")]),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("a",{staticClass:"menu-font",attrs:{href:"javascript:void(0)"},on:{click:function(r){return t.logout()}}},[t._v("LOGOUT")])]),e("div",{staticClass:"col-9"},[e("div",{staticClass:"row text-center"},[e("div",{staticClass:"col-4"},[e("a",{staticClass:"menu-font",attrs:{href:"javascript:void(0)"},on:{click:function(r){return t.unpaidPage()}}},[t._v("UNPAID")])]),e("div",{staticClass:"col-4"},[e("a",{staticClass:"menu-font",attrs:{href:"javascript:void(0)"},on:{click:function(r){return t.progressPage()}}},[t._v("IN PROGRESS")])]),e("div",{staticClass:"col-4"},[e("a",{staticClass:"menu-font",attrs:{href:"javascript:void(0)"},on:{click:function(r){return t.donePage()}}},[t._v("DONE")])]),t._m(0)]),e("div",{staticClass:"row"},["unpaid"==t.page?e("div",{staticClass:"col-12"},[e("br"),e("h3",[t._v("Unpaid Order")]),e("br"),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},t._l(t.groups,(function(r,a){return e("div",[e("b",[t._v("Order Number, "+t._s(a))]),e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:a,expression:"groupName"}],staticStyle:{float:"right"},attrs:{variant:"dark"}},[t._v("Open Details")]),e("b-collapse",{staticClass:"mt-2",attrs:{id:a}},[e("br"),e("h3",[t._v("Order Detail")]),e("table",{staticClass:"table"},[e("thead",[e("th",[t._v("Picture")]),e("th",[t._v("Product Name")]),e("th",[t._v("Category")]),e("th",[t._v("Price")]),e("th",[t._v("Quantity")])]),e("tbody",t._l(r,(function(r){return e("tr",[e("td",[e("img",{staticStyle:{width:"100%","max-width":"50px"},attrs:{src:"https://winterserver.herokuapp.com/product_picture/"+r.product_picture}})]),e("td",[t._v(t._s(r.product_name))]),e("td",[t._v(t._s(r.category_name))]),e("td",[t._v(t._s(r.product_price))]),e("td",[t._v(t._s(r.quantity))])])})),0)]),e("b-button",{staticStyle:{float:"right"},attrs:{variant:"success"},on:{click:function(r){return t.checkOut(a)}}},[t._v("Check Out")])],1),e("br"),e("br")],1)})),0)])]):t._e(),"progress"==t.page?e("div",{staticClass:"col-12"},[e("br"),e("h3",[t._v("In Progress")]),e("br"),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},t._l(t.pgroups,(function(r,a){return e("div",[e("b",[t._v("Order Number, "+t._s(a))]),e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:a,expression:"groupName"}],staticStyle:{float:"right"},attrs:{variant:"dark"}},[t._v("Open Details")]),e("b-collapse",{staticClass:"mt-2",attrs:{id:a}},[e("br"),e("h3",[t._v("Shipping Detail")]),e("br"),e("div",{staticClass:"row text-center"},[e("div",{staticClass:"col-3",staticStyle:{color:"green"}},[t._v("Preparing")]),e("div",{staticClass:"col-3"},[t._v("Out for delivery")]),e("div",{staticClass:"col-3"},[t._v("On the way")]),e("div",{staticClass:"col-3"},[t._v("Delivered")])]),e("br"),e("br"),e("br"),e("h3",[t._v("Order Detail")]),e("table",{staticClass:"table"},[e("thead",[e("th",[t._v("Picture")]),e("th",[t._v("Product Name")]),e("th",[t._v("Category")]),e("th",[t._v("Price")]),e("th",[t._v("Quantity")])]),e("tbody",t._l(r,(function(r){return e("tr",[e("td",[e("img",{staticStyle:{width:"100%","max-width":"50px"},attrs:{src:"https://winterserver.herokuapp.com/product_picture/"+r.product_picture}})]),e("td",[t._v(t._s(r.product_name))]),e("td",[t._v(t._s(r.category_name))]),e("td",[t._v(t._s(r.product_price))]),e("td",[t._v(t._s(r.quantity))])])})),0)])]),e("br"),e("br")],1)})),0)])]):t._e(),"done"==t.page?e("div",{staticClass:"col-12"},[e("br"),e("h3",[t._v("Done")]),e("br")]):t._e(),"cancel"==t.page?e("div",{staticClass:"col-12"},[e("br"),e("h3",[t._v("Canceled")]),e("br")]):t._e()])])])])])},c=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"col-12"},[e("hr")])}],s=(e("4160"),e("159b"),e("bc3a")),n=e.n(s);function u(t,r){var e={};return t.forEach((function(t){e[t[r]]||(e[t[r]]=[]),e[t[r]].push(t)})),e}var d={data:function(){return{title:"My Orders",email:"",firstname:"",lastname:"",page:"unpaid",all_products:[],all_progress:[]}},methods:{unpaidPage:function(){this.page="unpaid"},progressPage:function(){this.page="progress",this.getProgressInfo()},donePage:function(){this.page="done"},cancelPage:function(){this.page="cancel"},accountPage:function(){this.$router.push("account")},getInfo:function(){var t=this;this.all_products.length=0,this.all_products=[],n.a.post("https://winterserver.herokuapp.com/api/order/all",{user_id:localStorage.getItem("user_id")}).then((function(r){if("ERROR|EMPTY"!=r.data)for(var e=0;e<r.data.length;e++)t.all_products.push({order_id:r.data[e].order_id,order_key:r.data[e].order_key,product_id:r.data[e].product_id,product_name:r.data[e].product_name,product_detail:r.data[e].product_detail,product_price:r.data[e].product_price,product_picture:r.data[e].product_picture,quantity:r.data[e].quantity,category_name:r.data[e].cat_name})}))},getProgressInfo:function(){var t=this;this.all_progress.length=0,n.a.post("https://winterserver.herokuapp.com/api/order/progress",{user_id:localStorage.getItem("user_id")}).then((function(r){if("ERROR|EMPTY"!=r.data)for(var e=0;e<r.data.length;e++)t.all_progress.push({order_id:r.data[e].order_id,order_key:r.data[e].order_key,product_id:r.data[e].product_id,product_name:r.data[e].product_name,product_detail:r.data[e].product_detail,product_price:r.data[e].product_price,product_picture:r.data[e].product_picture,quantity:r.data[e].quantity,category_name:r.data[e].cat_name})}))},toast:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$bvToast.toast("Checkout this order",{title:"Success",toaster:"b-toaster-bottom-right",solid:!0,appendToast:r,variant:"success"})},checkOut:function(t){var r=this;n.a.post("https://winterserver.herokuapp.com/api/order/pay",{order_key:t}).then((function(t){"SUCCESS|PAID"==t.data&&(r.getInfo(),r.toast())}))},logout:function(){return localStorage.removeItem("user_id"),localStorage.removeItem("email"),localStorage.removeItem("role"),window.location.href=""}},computed:{groups:function(){return u(this.all_products,"order_key")},pgroups:function(){return u(this.all_progress,"order_key")}},mounted:function(){this.getInfo()}},l=d,p=(e("30bc"),e("2877")),v=Object(p["a"])(l,o,c,!1,null,"0aa0f96f",null),f=v.exports,_={components:{"order-component":f}},h=_,g=Object(p["a"])(h,a,i,!1,null,null,null);r["default"]=g.exports},e8b5:function(t,r,e){var a=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},f422:function(t,r,e){},fdbc:function(t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-586fa626.01fb3455.js.map