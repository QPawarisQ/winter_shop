{"remainingRequest":"/Users/fort/Desktop/winter_front/node_modules/thread-loader/dist/cjs.js!/Users/fort/Desktop/winter_front/node_modules/babel-loader/lib/index.js!/Users/fort/Desktop/winter_front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fort/Desktop/winter_front/src/components/CartComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fort/Desktop/winter_front/src/components/CartComponent.vue","mtime":1607676990155},{"path":"/Users/fort/Desktop/winter_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fort/Desktop/winter_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmZ1bmN0aW9uIG1ha2VpZChsZW5ndGgpIHsKICB2YXIgcmVzdWx0ID0gJyc7CiAgdmFyIGNoYXJhY3RlcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5JzsKICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpOwogIH0KCiAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIk15IENhcnQiLAogICAgICBhbGxfcHJvZHVjdHM6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgb3JkZXJfa2V5OiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnRvdGFsID0gMDsKICAgICAgdGhpcy5hbGxfcHJvZHVjdHMubGVuZ3RoID0gMDsKICAgICAgYXhpb3MucG9zdCgnaHR0cHM6Ly93aW50ZXJzZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvY2FydC9hbGwnLCB7CiAgICAgICAgdXNlcl9pZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICJFUlJPUnxFTVBUWSIpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBfdGhpcy5hbGxfcHJvZHVjdHMucHVzaCh7CiAgICAgICAgICAgICAgcHJvZHVjdF9pZDogcmVzcG9uc2UuZGF0YVtpXS5wcm9kdWN0X2lkLAogICAgICAgICAgICAgIHByb2R1Y3RfbmFtZTogcmVzcG9uc2UuZGF0YVtpXS5wcm9kdWN0X25hbWUsCiAgICAgICAgICAgICAgcHJvZHVjdF9kZXRhaWw6IHJlc3BvbnNlLmRhdGFbaV0ucHJvZHVjdF9kZXRhaWwsCiAgICAgICAgICAgICAgcHJvZHVjdF9xdWFudGl0eTogcmVzcG9uc2UuZGF0YVtpXS5xdWFudGl0eSwKICAgICAgICAgICAgICBwcm9kdWN0X3ByaWNlOiByZXNwb25zZS5kYXRhW2ldLnByb2R1Y3RfcHJpY2UsCiAgICAgICAgICAgICAgcHJvZHVjdF9waWN0dXJlOiByZXNwb25zZS5kYXRhW2ldLnByb2R1Y3RfcGljdHVyZSwKICAgICAgICAgICAgICBjYXRlZ29yeV9uYW1lOiByZXNwb25zZS5kYXRhW2ldLmNhdF9uYW1lCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMudG90YWwgPSBfdGhpcy50b3RhbCArIHJlc3BvbnNlLmRhdGFbaV0ucHJvZHVjdF9wcmljZSAqIHJlc3BvbnNlLmRhdGFbaV0ucXVhbnRpdHk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVDYXJ0OiBmdW5jdGlvbiByZW1vdmVDYXJ0KHByb2R1Y3RfaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KCdodHRwczovL3dpbnRlcnNlcnZlci5oZXJva3VhcHAuY29tL2FwaS9jYXJ0L3JlbW92ZScsIHsKICAgICAgICB1c2VyX2lkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpLAogICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3RfaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiU1VDQ0VTU3xSRU1PVkVEIikgewogICAgICAgICAgX3RoaXMyLnRvYXN0KCk7CgogICAgICAgICAgX3RoaXMyLmdldEluZm8oKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrT3V0OiBmdW5jdGlvbiBjaGVja091dCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLm9yZGVyX2tleSA9IG1ha2VpZCgxNSk7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHBzOi8vd2ludGVyc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL29yZGVyL2NoZWNrb3V0JywgewogICAgICAgIHVzZXJfaWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJyksCiAgICAgICAgb3JkZXJfa2V5OiB0aGlzLm9yZGVyX2tleQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJTVUNDRVNTfE9SREVSRUQiKSB7CiAgICAgICAgICBfdGhpczMuY2hlY2tvdXR0b2FzdCgpOwoKICAgICAgICAgIF90aGlzMy5nZXRJbmZvKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b2FzdDogZnVuY3Rpb24gdG9hc3QodG9hc3RlcikgewogICAgICB2YXIgYXBwZW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KCJQcm9kdWN0IHJlbW92ZWQgZnJvbSBjYXJ0IiwgewogICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgdG9hc3RlcjogImItdG9hc3Rlci1ib3R0b20tcmlnaHQiLAogICAgICAgIHNvbGlkOiB0cnVlLAogICAgICAgIGFwcGVuZFRvYXN0OiBhcHBlbmQsCiAgICAgICAgdmFyaWFudDogInN1Y2Nlc3MiCiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrb3V0dG9hc3Q6IGZ1bmN0aW9uIGNoZWNrb3V0dG9hc3QodG9hc3RlcikgewogICAgICB2YXIgYXBwZW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KCJDaGVja2VkIE91dCwgQ2hlY2sgaW4gb3JkZXIgcGFnZSIsIHsKICAgICAgICB0aXRsZTogIlN1Y2Nlc3MiLAogICAgICAgIHRvYXN0ZXI6ICJiLXRvYXN0ZXItYm90dG9tLXJpZ2h0IiwKICAgICAgICBzb2xpZDogdHJ1ZSwKICAgICAgICBhcHBlbmRUb2FzdDogYXBwZW5kLAogICAgICAgIHZhcmlhbnQ6ICJzdWNjZXNzIgogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEluZm8oKTsKICB9Cn07"},{"version":3,"sources":["CartComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div style=\"margin-top: 4rem\">\n\t\t<h1 class=\"text-center title\">{{ title }}</h1>\n\t\t<div class=\"container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-lg-3 col-4\" v-for=\"(product, index) in all_products\">\n\t\t\t\t\t<img :src=\"'https://winterserver.herokuapp.com/product_picture/'+product.product_picture\" style=\"width: 100%;\">\n\t\t\t\t\t<div class=\"img-category\">{{ product.category_name }} <a href=\"javascript:void(0)\" style=\"text-decoration: none;color: red;float: right\" @click=\"removeCart(product.product_id)\">(Remove)</a></div>\n\t\t\t\t\t<div class=\"img-title\">{{ product.product_name }}</div>\n\t\t\t\t\t<div class=\"img-price\">$ {{ product.product_price }}</div>\n\t\t\t\t\t<div class=\"img-ea\">x{{ product.product_quantity }} ea (Total ${{ product.product_price*product.product_quantity }})</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<h1 class=\"checkout\" v-if=\"this.all_products.length != 0\">Total ${{ this.total }} <a @click=\"checkOut()\" href=\"javascript:void(0)\" class=\"btn btn-success\" style=\"font-weight: bold;font-size: 2rem;float: right\">Check Out</a></h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\timport axios from 'axios'\n\tfunction makeid(length) {\n\t   var result           = '';\n\t   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n\t   var charactersLength = characters.length;\n\t   for ( var i = 0; i < length; i++ ) {\n\t      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n\t   }\n\t   return result;\n\t}\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\ttitle: \"My Cart\",\n\t\t\t\tall_products: [],\n\t\t\t\ttotal: 0,\n\t\t\t\torder_key: \"\"\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetInfo(){\n\t\t\t\tthis.total = 0\n\t\t\t\tthis.all_products.length = 0\n\t\t\t\taxios.post('https://winterserver.herokuapp.com/api/cart/all',{\n\t\t\t\t\tuser_id: localStorage.getItem('user_id')\n\t\t\t\t})\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.data != \"ERROR|EMPTY\"){\n\t\t\t\t\t\tfor (var i = 0; i < response.data.length; i++) {\n\t\t\t\t\t\t\tthis.all_products.push({\n\t\t\t\t\t\t\t\tproduct_id: response.data[i].product_id,\n\t\t\t\t\t\t\t\tproduct_name: response.data[i].product_name,\n\t\t\t\t\t\t\t\tproduct_detail: response.data[i].product_detail,\n\t\t\t\t\t\t\t\tproduct_quantity: response.data[i].quantity,\n\t\t\t\t\t\t\t\tproduct_price: response.data[i].product_price,\n\t\t\t\t\t\t\t\tproduct_picture: response.data[i].product_picture,\n\t\t\t\t\t\t\t\tcategory_name: response.data[i].cat_name,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.total = this.total + (response.data[i].product_price*response.data[i].quantity)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tremoveCart(product_id){\n\t\t\t\taxios.post('https://winterserver.herokuapp.com/api/cart/remove', {\n\t\t\t\t\tuser_id: localStorage.getItem('user_id'),\n\t\t\t\t\tproduct_id: product_id\n\t\t\t\t}).then((response)=>{\n\t\t\t\t\tif(response.data == \"SUCCESS|REMOVED\"){\n\t\t\t\t\t\tthis.toast()\n\t\t\t\t\t\tthis.getInfo()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcheckOut(){\n\t\t\t\tthis.order_key = makeid(15)\n\t\t\t\taxios.post('https://winterserver.herokuapp.com/api/order/checkout',{\n\t\t\t\t\tuser_id: localStorage.getItem('user_id'),\n\t\t\t\t\torder_key: this.order_key\n\t\t\t\t})\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.data == \"SUCCESS|ORDERED\"){\n\t\t\t\t\t\tthis.checkouttoast()\n\t\t\t\t\t\tthis.getInfo()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\ttoast(toaster, append = true) {\n\t\t\t\tthis.$bvToast.toast(`Product removed from cart`, {\n\t\t\t\t  title: `Success`,\n\t\t\t\t  toaster: \"b-toaster-bottom-right\",\n\t\t\t\t  solid: true,\n\t\t\t\t  appendToast: append,\n\t\t\t\t  variant: \"success\"\n\t\t\t\t})\n\t\t\t},\n\t\t\tcheckouttoast(toaster, append = true) {\n\t\t\t\tthis.$bvToast.toast(`Checked Out, Check in order page`, {\n\t\t\t\t  title: `Success`,\n\t\t\t\t  toaster: \"b-toaster-bottom-right\",\n\t\t\t\t  solid: true,\n\t\t\t\t  appendToast: append,\n\t\t\t\t  variant: \"success\"\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tthis.getInfo()\n\t\t}\n\t};\n</script>\n<style scoped>\n\t.title{\n\t\tfont-size: 6rem;\n\t\tfont-weight: bold;\n\t}\n\t.checkout{\n\t\tfont-size: 3rem;\n\t\tfont-weight: bold;\n\t}\n\t.img-category{\n\t\tmargin-top: 0.5rem;\n\t\tcolor: #555;\n\t\tfont-size: 0.9rem\n\t}\n\t.img-title{\n\t\tcolor: #000;\n\t\tfont-size: 1.1rem;\n\t\tfont-weight: bold;\n\t}\n\t.img-price{\n\t\tcolor: red;\n\t\tfont-size: 1.1rem;\n\t\tfont-weight: bold;\n\t}\n\t.img-ea{\n\t\tfont-size: 0.9rem;\n\t}\n</style>"],"sourceRoot":"src/components"}]}