{"remainingRequest":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fort/Desktop/winter_front/src/components/LoginComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fort/Desktop/winter_front/src/components/LoginComponent.vue","mtime":1607699966211},{"path":"/Users/fort/Desktop/winter_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fort/Desktop/winter_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHR7CglkYXRhKCl7CgkJcmV0dXJuewoJCQllbWFpbDogIiIsCgkJCXBhc3N3b3JkOiAiIiwKCQkJYWxlcnQ6IHsKCQkJCXRleHQ6ICIiCgkJCX0sCgkgICAgICAgIGRpc21pc3NTZWNzOiAyLAoJICAgICAgICBkaXNtaXNzQ291bnREb3duOiAwLAoJICAgICAgICBzaG93RGlzbWlzc2libGVBbGVydDogZmFsc2UKCQl9Cgl9LAoJbWV0aG9kczogewoJCWxvZ2luU3VibWl0KCl7CgkJCWF4aW9zLnBvc3QoJ2h0dHBzOi8vd2ludGVyc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3VzZXIvbG9naW4nLHsKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICAgICAgfSkudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhID09ICJFUlJPUnxXUk9OR1BBU1NXT1JEIil7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydC50ZXh0ID0gIldyb25nIFBhc3N3b3JkIgogICAgICAgICAgICAgICAgCXRoaXMuc2hvd0FsZXJ0KCkKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9pZCcsIHJlc3BvbnNlLmRhdGFbaW5kZXhdLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VtYWlsJywgcmVzcG9uc2UuZGF0YVtpbmRleF0uZW1haWwpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm9sZScsIHJlc3BvbnNlLmRhdGFbaW5kZXhdLnJvbGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0LnRleHQgPSAiU3VjY2VzcyIKICAgICAgICAgICAgICAgIAl0aGlzLnNob3dBbGVydCgpCiAgICAgICAgICAgICAgICAJaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JvbGUnKSA9PSAxKXsKCSAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIiIKCSAgICAgICAgICAgICAgICAgICAgfSwyMDAwKQogICAgICAgICAgICAgICAgCX1lbHNlewoJICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiIgoJICAgICAgICAgICAgICAgICAgICB9LDIwMDApCiAgICAgICAgICAgICAgICAJfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQoJCX0sCgkJY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7CgkJCXRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd24KCQl9LAoJCXNob3dBbGVydCgpIHsKCQkJdGhpcy5kaXNtaXNzQ291bnREb3duID0gdGhpcy5kaXNtaXNzU2VjcwoJCX0KCX0KfTsK"},{"version":3,"sources":["LoginComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div>\n\t\t<section id=\"login\">\n\t\t\t<br>\n\t\t\t<div class=\"container\">\n\t\t\t\t<div class=\"row justify-content-center\">\n\t\t\t\t\t<div class=\"col-lg-7\"></div>\n\t\t\t\t\t<div class=\"col-lg-5 text-center\" style=\"padding-top: 15rem\">\n\t\t\t\t\t\t<b-alert\n\t\t\t\t\t      :show=\"dismissCountDown\"\n\t\t\t\t\t      dismissible\n\t\t\t\t\t      variant=\"warning\"\n\t\t\t\t\t      @dismissed=\"dismissCountDown=0\"\n\t\t\t\t\t      @dismiss-count-down=\"countDownChanged\"\n\t\t\t\t\t    >\n\t\t\t\t\t      <p class=\"text-left\">{{ alert.text }} ,Changing Page in {{ dismissCountDown }} seconds...</p>\n\t\t\t\t\t      <b-progress\n\t\t\t\t\t        variant=\"warning\"\n\t\t\t\t\t        :max=\"dismissSecs\"\n\t\t\t\t\t        :value=\"dismissCountDown\"\n\t\t\t\t\t        height=\"4px\"\n\t\t\t\t\t      ></b-progress>\n\t\t\t\t\t    </b-alert>\n\t\t\t\t\t\t<h1 style=\"font-weight: bold;color: #000\">Log In</h1>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<form action=\"javascript:void(0)\" @submit=\"loginSubmit()\">\n\t\t\t\t\t\t  <div class=\"form-group\">\n\t\t\t\t\t\t    <input type=\"email\" class=\"form-control\" id=\"inputEmail\" placeholder=\"Enter email\" v-model=\"email\" required=\"\">\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class=\"form-group\">\n\t\t\t\t\t\t    <input type=\"password\" class=\"form-control\" id=\"inputPassword\" placeholder=\"Password\" v-model=\"password\" required=\"\">\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <br>\n\t\t\t\t\t\t  <button type=\"submit\" class=\"btn btn-danger btn-block\">Log In</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t</div>\n</template>\n<script>\n\timport axios from 'axios'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\temail: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\talert: {\n\t\t\t\t\ttext: \"\"\n\t\t\t\t},\n\t\t        dismissSecs: 2,\n\t\t        dismissCountDown: 0,\n\t\t        showDismissibleAlert: false\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tloginSubmit(){\n\t\t\t\taxios.post('https://winterserver.herokuapp.com/api/user/login',{\n\t                email: this.email,\n\t                password: this.password\n\t            }).then((response)=>{\n\t                if(response.data == \"ERROR|WRONGPASSWORD\"){\n\t                    this.alert.text = \"Wrong Password\"\n\t                \tthis.showAlert()\n\t                }else{\n\t                    for (let index = 0; index < response.data.length; index++) {\n\t                        localStorage.setItem('user_id', response.data[index].id);\n\t                        localStorage.setItem('email', response.data[index].email);\n\t                        localStorage.setItem('role', response.data[index].role);\n\t                    }\n\t                    this.alert.text = \"Success\"\n\t                \tthis.showAlert()\n\t                \tif(localStorage.getItem('role') == 1){\n\t\t                    setTimeout(()=>{\n\t\t                        return window.location.href = \"\"\n\t\t                    },2000)\n\t                \t}else{\n\t\t                    setTimeout(()=>{\n\t\t                        return window.location.href = \"\"\n\t\t                    },2000)\n\t                \t}\n\t                }\n\t            })\n\t\t\t},\n\t\t\tcountDownChanged(dismissCountDown) {\n\t\t\t\tthis.dismissCountDown = dismissCountDown\n\t\t\t},\n\t\t\tshowAlert() {\n\t\t\t\tthis.dismissCountDown = this.dismissSecs\n\t\t\t}\n\t\t}\n\t};\n</script>\n<style scoped>\n\t#login{\n\t\theight: 100vh;\n\t\tbackground-image: url(../assets/loginbg2.png); \n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: 50% auto;\n\t}\n\tbutton{\n\t\tfont-weight: bold;\n\t\tborder-radius: 0px;\n\t}\n\tinput{\n\t\tborder-radius: 0px;\n\t}\n</style>"]}]}