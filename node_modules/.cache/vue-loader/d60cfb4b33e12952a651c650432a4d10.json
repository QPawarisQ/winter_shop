{"remainingRequest":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fort/Desktop/winter_front/src/components/OrderComponent.vue?vue&type=style&index=0&id=c3abe38a&scoped=true&lang=css&","dependencies":[{"path":"/Users/fort/Desktop/winter_front/src/components/OrderComponent.vue","mtime":1607499093486},{"path":"/Users/fort/Desktop/winter_front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRpdGxlewoJZm9udC1zaXplOiA2cmVtOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLm1lbnUtZm9udHsKCWZvbnQtc2l6ZTogMS4ycmVtOwoJY29sb3I6ICMwMDA7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0K"},{"version":3,"sources":["OrderComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div style=\"margin-top: 6rem\">\n\t\t<h1 class=\"text-center title\">{{ title }}</h1>\n\t\t<div class=\"container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<a href=\"javascript:void(0)\" class=\"menu-font\" @click=\"orderPage()\" style=\"color: red\">ORDERS</a>\n\t\t\t\t\t<br>\n\t\t\t\t\t<a href=\"javascript:void(0)\" class=\"menu-font\" @click=\"accountPage()\">ACCOUNT</a>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<a href=\"javascript:void(0)\" class=\"menu-font\" @click=\"logout()\">LOGOUT</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-9\">\n\t\t\t\t\t<div class=\"row text-center\">\n\t\t\t\t\t\t<div class=\"col-4\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" class=\"menu-font\" @click=\"unpaidPage()\">UNPAID</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-4\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" class=\"menu-font\" @click=\"progressPage()\">IN PROGRESS</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-4\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" class=\"menu-font\" @click=\"donePage()\">DONE</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-12\"><hr></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-12\" v-if=\"page == 'unpaid'\">\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<h3>Unpaid Order</h3><br>\n\t\t\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div v-for=\"group, groupName in groups\">\n\t \t\t\t\t\t\t\t\t\t<b>Order Number, {{groupName}}</b>\n\t\t\t\t\t\t\t\t\t\t<b-button v-b-toggle=\"groupName\" variant=\"dark\" style=\"float: right\">Open Details</b-button>\n\t\t\t\t\t\t\t\t\t\t<b-collapse :id=\"groupName\" class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t<h3>Order Detail</h3>\n\t\t\t\t\t\t\t\t\t\t\t<table class=\"table\">\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Picture</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Product Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Category</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Price</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Quantity</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr v-for=\"item in group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"'http://localhost:3000/product_picture/'+item.product_picture\" style=\"width: 100%;max-width: 50px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.product_name}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.category_name}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.product_price}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.quantity}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t<b-button @click=\"checkOut(groupName)\" variant=\"success\" style=\"float: right\">Check Out</b-button>\n\t\t\t\t\t\t\t\t\t\t</b-collapse>\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-12\" v-if=\"page == 'progress'\">\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<h3>In Progress</h3><br>\n\t\t\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t\t<div v-for=\"group, groupName in pgroups\">\n\t \t\t\t\t\t\t\t\t\t<b>Order Number, {{groupName}}</b>\n\t\t\t\t\t\t\t\t\t\t<b-button v-b-toggle=\"groupName\" variant=\"dark\" style=\"float: right\">Open Details</b-button>\n\t\t\t\t\t\t\t\t\t\t<b-collapse :id=\"groupName\" class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t<h3>Shipping Detail</h3>\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-3\" style=\"color: green\">Preparing</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-3\">Out for delivery</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-3\">On the way</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-3\">Delivered</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t<h3>Order Detail</h3>\n\t\t\t\t\t\t\t\t\t\t\t<table class=\"table\">\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Picture</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Product Name</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Category</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Price</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Quantity</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr v-for=\"item in group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"'http://localhost:3000/product_picture/'+item.product_picture\" style=\"width: 100%;max-width: 50px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.product_name}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.category_name}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.product_price}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{item.quantity}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</b-collapse>\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-12\" v-if=\"page == 'done'\">\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<h3>Done</h3><br>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-12\" v-if=\"page == 'cancel'\">\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<h3>Canceled</h3><br>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\tfunction groupBy(array, key){\n\t  const result = {}\n\t  array.forEach(item => {\n\t    if (!result[item[key]]){\n\t      result[item[key]] = []\n\t    }\n\t    result[item[key]].push(item)\n\t  })\n\t  return result\n\t}\n\timport axios from 'axios'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\ttitle: \"My Orders\",\n\t\t\t\temail: \"\",\n\t\t\t\tfirstname: \"\",\n\t\t\t\tlastname: \"\",\n\t\t\t\tpage: \"unpaid\",\n\t\t\t\tall_products: [],\n\t\t\t\tall_progress: [],\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tunpaidPage() {\n\t\t\t\tthis.page = \"unpaid\"\n\t\t\t},\n\t\t\tprogressPage() {\n\t\t\t\tthis.page = \"progress\"\n\t\t\t\tthis.getProgressInfo()\n\t\t\t},\n\t\t\tdonePage() {\n\t\t\t\tthis.page = \"done\"\n\t\t\t},\n\t\t\tcancelPage() {\n\t\t\t\tthis.page = \"cancel\"\n\t\t\t},\n\t\t\taccountPage() {\n        \t\tthis.$router.push('account')\n\t\t\t},\n\t\t\tgetInfo(){\n\t\t\t\tthis.all_products.length = 0\n\t\t\t\taxios.post('http://localhost:3000/api/order/all',{\n\t\t\t\t\tuser_id: localStorage.getItem(\"user_id\")\n\t\t\t\t})\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.data != \"ERROR|EMPTY\"){\n\t\t\t\t\t\tfor (var i = 0; i < response.data.length; i++) {\n\t\t\t\t\t\t\tthis.all_products.push({\n\t\t\t\t\t\t\t\torder_id: response.data[i].order_id,\n\t\t\t\t\t\t\t\torder_key: response.data[i].order_key,\n\t\t\t\t\t\t\t\tproduct_id: response.data[i].product_id,\n\t\t\t\t\t\t\t\tproduct_name: response.data[i].product_name,\n\t\t\t\t\t\t\t\tproduct_detail: response.data[i].product_detail,\n\t\t\t\t\t\t\t\tproduct_price: response.data[i].product_price,\n\t\t\t\t\t\t\t\tproduct_picture: response.data[i].product_picture,\n\t\t\t\t\t\t\t\tquantity: response.data[i].quantity,\n\t\t\t\t\t\t\t\tcategory_name: response.data[i].cat_name,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetProgressInfo(){\n\t\t\t\tthis.all_progress.length = 0\n\t\t\t\taxios.post('http://localhost:3000/api/order/progress',{\n\t\t\t\t\tuser_id: localStorage.getItem(\"user_id\")\n\t\t\t\t})\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.data != \"ERROR|EMPTY\"){\n\t\t\t\t\t\tfor (var i = 0; i < response.data.length; i++) {\n\t\t\t\t\t\t\tthis.all_progress.push({\n\t\t\t\t\t\t\t\torder_id: response.data[i].order_id,\n\t\t\t\t\t\t\t\torder_key: response.data[i].order_key,\n\t\t\t\t\t\t\t\tproduct_id: response.data[i].product_id,\n\t\t\t\t\t\t\t\tproduct_name: response.data[i].product_name,\n\t\t\t\t\t\t\t\tproduct_detail: response.data[i].product_detail,\n\t\t\t\t\t\t\t\tproduct_price: response.data[i].product_price,\n\t\t\t\t\t\t\t\tproduct_picture: response.data[i].product_picture,\n\t\t\t\t\t\t\t\tquantity: response.data[i].quantity,\n\t\t\t\t\t\t\t\tcategory_name: response.data[i].cat_name,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\ttoast(toaster, append = true) {\n\t\t\t\tthis.$bvToast.toast(`Checkout this order`, {\n\t\t\t\t  title: `Success`,\n\t\t\t\t  toaster: \"b-toaster-bottom-right\",\n\t\t\t\t  solid: true,\n\t\t\t\t  appendToast: append,\n\t\t\t\t  variant: \"success\"\n\t\t\t\t})\n\t\t\t},\n\t\t\tcheckOut(order_key){\n\t\t\t\taxios.post('http://localhost:3000/api/order/pay',{\n\t\t\t\t\torder_key: order_key\n\t\t\t\t})\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.data == \"SUCCESS|PAID\"){\n\t\t\t\t\t\tthis.getInfo()\n\t\t\t\t\t\tthis.toast()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tlogout(){\n\t\t\t\tlocalStorage.removeItem('user_id');\n\t\t\t\tlocalStorage.removeItem('email');\n\t\t\t\tlocalStorage.removeItem('role');\n\t\t\t\treturn window.location.href = \"\"\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t  groups(){\n\t\t    return groupBy(this.all_products, 'order_key')\n\t\t  },\n\t\t  pgroups(){\n\t\t    return groupBy(this.all_progress, 'order_key')\n\t\t  }\n\t\t},\n\t\tmounted(){\n\t\t\tthis.getInfo()\n\t\t}\n\t};\n</script>\n<style scoped>\n\t.title{\n\t\tfont-size: 6rem;\n\t\tfont-weight: bold;\n\t}\n\t.menu-font{\n\t\tfont-size: 1.2rem;\n\t\tcolor: #000;\n\t\ttext-decoration: none;\n\t}\n</style>"]}]}