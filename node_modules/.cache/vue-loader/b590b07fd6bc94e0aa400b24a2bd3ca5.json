{"remainingRequest":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fort/Desktop/winter_front/src/components/LoginComponent.vue?vue&type=style&index=0&id=7efa5641&scoped=true&lang=css&","dependencies":[{"path":"/Users/fort/Desktop/winter_front/src/components/LoginComponent.vue","mtime":1607461516340},{"path":"/Users/fort/Desktop/winter_front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fort/Desktop/winter_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojbG9naW57CgloZWlnaHQ6IDEwMHZoOwoJYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2Fzc2V0cy9sb2dpbmJnMi5wbmcpOyAKCWJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CgliYWNrZ3JvdW5kLXNpemU6IDUwJSBhdXRvOwp9CmJ1dHRvbnsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJYm9yZGVyLXJhZGl1czogMHB4Owp9CmlucHV0ewoJYm9yZGVyLXJhZGl1czogMHB4Owp9Cg=="},{"version":3,"sources":["LoginComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div>\n\t\t<section id=\"login\">\n\t\t\t<br>\n\t\t\t<div class=\"container\">\n\t\t\t\t<div class=\"row justify-content-center\">\n\t\t\t\t\t<div class=\"col-lg-7\"></div>\n\t\t\t\t\t<div class=\"col-lg-5 text-center\" style=\"padding-top: 15rem\">\n\t\t\t\t\t\t<b-alert\n\t\t\t\t\t      :show=\"dismissCountDown\"\n\t\t\t\t\t      dismissible\n\t\t\t\t\t      variant=\"warning\"\n\t\t\t\t\t      @dismissed=\"dismissCountDown=0\"\n\t\t\t\t\t      @dismiss-count-down=\"countDownChanged\"\n\t\t\t\t\t    >\n\t\t\t\t\t      <p class=\"text-left\">{{ alert.text }} ,Changing Page in {{ dismissCountDown }} seconds...</p>\n\t\t\t\t\t      <b-progress\n\t\t\t\t\t        variant=\"warning\"\n\t\t\t\t\t        :max=\"dismissSecs\"\n\t\t\t\t\t        :value=\"dismissCountDown\"\n\t\t\t\t\t        height=\"4px\"\n\t\t\t\t\t      ></b-progress>\n\t\t\t\t\t    </b-alert>\n\t\t\t\t\t\t<h1 style=\"font-weight: bold;color: #000\">Log In</h1>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<form action=\"javascript:void(0)\" @submit=\"loginSubmit()\">\n\t\t\t\t\t\t  <div class=\"form-group\">\n\t\t\t\t\t\t    <input type=\"email\" class=\"form-control\" id=\"inputEmail\" placeholder=\"Enter email\" v-model=\"email\">\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class=\"form-group\">\n\t\t\t\t\t\t    <input type=\"password\" class=\"form-control\" id=\"inputPassword\" placeholder=\"Password\" v-model=\"password\">\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <br>\n\t\t\t\t\t\t  <button type=\"submit\" class=\"btn btn-danger btn-block\">Log In</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t</div>\n</template>\n<script>\n\timport axios from 'axios'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\temail: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\talert: {\n\t\t\t\t\ttext: \"\"\n\t\t\t\t},\n\t\t        dismissSecs: 2,\n\t\t        dismissCountDown: 0,\n\t\t        showDismissibleAlert: false\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tloginSubmit(){\n\t\t\t\taxios.post('http://localhost:3000/api/user/login',{\n\t                email: this.email,\n\t                password: this.password\n\t            }).then((response)=>{\n\t                if(response.data == \"ERROR|WRONGPASSWORD\"){\n\t                    this.alert.text = \"Wrong Password\"\n\t                \tthis.showAlert()\n\t                }else{\n\t                    for (let index = 0; index < response.data.length; index++) {\n\t                        localStorage.setItem('user_id', response.data[index].id);\n\t                        localStorage.setItem('email', response.data[index].email);\n\t                        localStorage.setItem('role', response.data[index].role);\n\t                    }\n\t                    this.alert.text = \"Success\"\n\t                \tthis.showAlert()\n\t                \tif(localStorage.getItem('role') == 1){\n\t\t                    setTimeout(()=>{\n\t\t                        return window.location.href = \"\"\n\t\t                    },2000)\n\t                \t}else{\n\t\t                    setTimeout(()=>{\n\t\t                        return window.location.href = \"\"\n\t\t                    },2000)\n\t                \t}\n\t                }\n\t            })\n\t\t\t},\n\t\t\tcountDownChanged(dismissCountDown) {\n\t\t\t\tthis.dismissCountDown = dismissCountDown\n\t\t\t},\n\t\t\tshowAlert() {\n\t\t\t\tthis.dismissCountDown = this.dismissSecs\n\t\t\t}\n\t\t}\n\t};\n</script>\n<style scoped>\n\t#login{\n\t\theight: 100vh;\n\t\tbackground-image: url(../assets/loginbg2.png); \n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: 50% auto;\n\t}\n\tbutton{\n\t\tfont-weight: bold;\n\t\tborder-radius: 0px;\n\t}\n\tinput{\n\t\tborder-radius: 0px;\n\t}\n</style>"]}]}